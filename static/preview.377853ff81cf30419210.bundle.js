(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1124:function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),o=n.n(e),r=n(144),i=n(32),a=n(491),s=n(490),d=n(489),c=n(201),l=n(37),g=n(104).withStorySource;const p=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#fcc",display:"inline-block",padding:"2rem"}})),u=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#aaf",display:"inline-block",padding:"2rem",opacity:.75}})),h=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#ffa",display:"inline-block",padding:"2rem"}}));Object(r.storiesOf)("react-dnd/Drag&Drop",t).addDecorator(g("import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { action } from '@storybook/addon-actions';\nimport { Droppable } from '../src/droppable';\nimport { DragLayer } from '../src/drag-layer';\nimport { Measure } from '../src/measure';\nimport { DragHandle } from '../src/drag-handle';\nimport { DraggableContext, DraggingProvider } from '../src/core';\n\nconst stories = storiesOf('react-dnd/Drag&Drop', module);\n\nconst Red = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div {...props} style={{ ...props.style, background: `#fcc`, display: `inline-block`, padding: `2rem` }} />\n);\nconst Blue = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div\n    {...props}\n    style={{ ...props.style, background: `#aaf`, display: `inline-block`, padding: `2rem`, opacity: 3 / 4 }}\n  />\n);\nconst Yellow = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div {...props} style={{ ...props.style, background: `#ffa`, display: `inline-block`, padding: `2rem` }} />\n);\n\nstories\n  .add(`Basic`, () => (\n    <DraggingProvider>\n      <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)}>\n        {({ isDropping, dropProps, trackingProps }) => (\n          <Red {...trackingProps} {...dropProps}>\n            {isDropping ? 'Dropping!' : 'Waiting...'}\n          </Red>\n        )}\n      </Droppable>\n      <DraggableContext dataKey={1} onDragEnd={action(`onDragEnd`)} onDragStart={action(`onDragStart`)}>\n        <DragLayer>\n          <Blue>Being dragged</Blue>\n        </DragLayer>\n        <Measure>\n          <DragHandle>\n            <Yellow>Dragging me</Yellow>\n          </DragHandle>\n        </Measure>\n      </DraggableContext>\n    </DraggingProvider>\n  ))\n  .add(`Handle`, () => (\n    <DraggingProvider>\n      <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)}>\n        {({ isDropping, dropProps, trackingProps, droppingMeta }) => (\n          <Red {...trackingProps} {...dropProps}>\n            {isDropping ? `Dropping ${droppingMeta}!` : 'Waiting...'}\n          </Red>\n        )}\n      </Droppable>\n      <DraggableContext dataKey={1} onDragEnd={action(`onDragEnd`)} onDragStart={action(`onDragStart`)}>\n        <DragLayer>\n          <Blue>\n            <DragHandle>Handle</DragHandle> Being dragged\n          </Blue>\n        </DragLayer>\n        <Measure>\n          <Yellow>\n            <DragHandle dataMeta=\"1\">Handle 1</DragHandle> <DragHandle dataMeta=\"2\">Handle 2</DragHandle> Dragging me\n          </Yellow>\n        </Measure>\n        {/* : <Yellow {...dragContainerProps} innerRef={ref}>{dragging}<DragHandle>Handle</DragHandle> Drag me</Yellow> */}\n      </DraggableContext>\n    </DraggingProvider>\n  ));\n// .add(`Ordering`, () => (\n//   <DraggingProvider>\n//      <PositionContainer>\n//       {({ refContainer, registries }) => (\n//         <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)} refTracking={refContainer}>\n//           {({ isDropping, dropProps, trackingProps, droppingPosition }) => (\n//             <Red {...trackingProps} {...dropProps} innerRef={trackingProps.ref}>\n//               {orderingData.map((item) => (\n//                 <PositionPublisher keyData={item}>\n//                   {({ refContainer }) => (\n//                     <Draggable dataKey={item} onDragEnd={action(`onDragEnd`)} onDragMove={undefined} onDragStart={action(`onDragStart`)} refTracking={refContainer}>\n//                       {({ isDragged, dragContainerProps, dragHandleProps, trackingProps, dragging }) => (\n//                         isDragged\n//                           ? <Blue {...dragContainerProps} {...dragHandleProps} innerRef={trackingProps.ref}>{dragging}{item.text}</Blue>\n//                           : <Yellow {...dragContainerProps} {...dragHandleProps} innerRef={trackingProps.ref}>{dragging}{item.text}</Yellow>\n//                       )}\n//                     </Draggable>\n//                   )}\n//                 </PositionPublisher>\n//               ))}\n\n//               <ol>\n//                 {registries.map(({ getBounds, key }) => (\n//                   <li>{key.text} ({getBounds().left}:{getBounds().top}, {getBounds().width}w{getBounds().height}h)</li>\n//                 ))}\n//               </ol>\n//               <p style={{ whiteSpace: 'pre' }}>\n//                 {isDropping\n//                   ? <span>Dropping: {(() => {\n//                     const elements = registries.map(({ getBounds, key }) => ({ bounds: getBounds(), key, order: orderingData.indexOf(key) }));\n//                     const closest = closestCorner.horizontal(droppingPosition, elements);\n//                     return (\n//                       <span>{closest.isBefore ? 'Before' : 'After'} {closest.element.key.text}</span>\n//                     );\n//                   })()}</span>\n//                   : `Drag something`}\n//               </p>\n//             </Red>\n//           )}\n//         </Droppable>\n//       )}\n//     </PositionContainer>\n//   </DraggingProvider>\n// ));\n",{})).add("Basic",()=>o.a.createElement(l.b,null,o.a.createElement(a.a,{onDrop:Object(i.action)("onDrop"),onDragOver:Object(i.action)("onDragOver"),onDragOut:Object(i.action)("onDragOut")},({isDropping:t,dropProps:e,trackingProps:n})=>o.a.createElement(p,Object.assign({},n,e),t?"Dropping!":"Waiting...")),o.a.createElement(l.a,{dataKey:1,onDragEnd:Object(i.action)("onDragEnd"),onDragStart:Object(i.action)("onDragStart")},o.a.createElement(s.a,null,o.a.createElement(u,null,"Being dragged")),o.a.createElement(d.a,null,o.a.createElement(c.a,null,o.a.createElement(h,null,"Dragging me")))))).add("Handle",()=>o.a.createElement(l.b,null,o.a.createElement(a.a,{onDrop:Object(i.action)("onDrop"),onDragOver:Object(i.action)("onDragOver"),onDragOut:Object(i.action)("onDragOut")},({isDropping:t,dropProps:e,trackingProps:n,droppingMeta:r})=>o.a.createElement(p,Object.assign({},n,e),t?`Dropping ${r}!`:"Waiting...")),o.a.createElement(l.a,{dataKey:1,onDragEnd:Object(i.action)("onDragEnd"),onDragStart:Object(i.action)("onDragStart")},o.a.createElement(s.a,null,o.a.createElement(u,null,o.a.createElement(c.a,null,"Handle")," Being dragged")),o.a.createElement(d.a,null,o.a.createElement(h,null,o.a.createElement(c.a,{dataMeta:"1"},"Handle 1")," ",o.a.createElement(c.a,{dataMeta:"2"},"Handle 2")," Dragging me")))))}.call(this,n(219)(t))},1125:function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),o=n.n(e),r=n(144),i=n(223),a=n(35),s=n(104).withStorySource;const d=Object(r.storiesOf)("react-dnd/Closest Corner",t).addDecorator(s("import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { closestCorner } from '../src/strategy-closest-corner';\nimport { ClosestCornerLocation } from '../src/strategy-closest-corner/all';\n\nconst stories = storiesOf('react-dnd/Closest Corner', module);\n\nclass ClosestCornerHorizonal extends React.Component {\n  public state = {\n    isOver: false,\n    isBefore: false,\n  };\n\n  public render() {\n    const { isOver, isBefore } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? (isBefore ? `Left` : `Right`) : `Hover me`}\n      </div>\n    );\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.horizontal(position, [{ bounds, key: null }]);\n    this.setState({ isOver: !!closest, isBefore: closest.isBefore });\n  };\n}\nclass ClosestCornerVertical extends React.Component {\n  public state = {\n    isOver: false,\n    isBefore: false,\n  };\n\n  public render() {\n    const { isOver, isBefore } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? (isBefore ? `Top` : `Bottom`) : `Hover me`}\n      </div>\n    );\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.vertical(position, [{ bounds, key: null }]);\n    this.setState({ isOver: !!closest, isBefore: closest.isBefore });\n  };\n}\nclass ClosestCornerAll extends React.Component {\n  public state = {\n    isOver: false,\n    distance: 0,\n    location: ClosestCornerLocation.Middle,\n  };\n\n  public render() {\n    const { isOver, distance, location } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? `${this.locationToString(location)} @ ${distance.toFixed(1)}px` : `Hover me`}\n      </div>\n    );\n  }\n\n  private locationToString(location: ClosestCornerLocation) {\n    switch (location) {\n      case ClosestCornerLocation.TopLeft:\n        return `Top Left`;\n      case ClosestCornerLocation.Top:\n        return `Top`;\n      case ClosestCornerLocation.TopRight:\n        return `Top Right`;\n      case ClosestCornerLocation.MiddleLeft:\n        return `Middle Left`;\n      case ClosestCornerLocation.Middle:\n        return `Middle`;\n      case ClosestCornerLocation.MiddleRight:\n        return `Middle Right`;\n      case ClosestCornerLocation.BottomLeft:\n        return `Bottom Left`;\n      case ClosestCornerLocation.Bottom:\n        return `Bottom`;\n      case ClosestCornerLocation.BottomRight:\n        return `Bottom Right`;\n      default:\n        return `???`;\n    }\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.all(position, bounds, 20);\n    this.setState({ isOver: !!closest, distance: closest.distance, location: closest.location });\n  };\n}\n\nstories\n  .add(`Horizontal`, () => <ClosestCornerHorizonal />)\n  .add(`Vertical`, () => <ClosestCornerVertical />)\n  .add(`All`, () => <ClosestCornerAll />);\n",{}));class c extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,isBefore:!1},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.horizontal(n,[{bounds:e,key:null}]);this.setState({isOver:!!o,isBefore:o.isBefore})})}render(){const{isOver:t,isBefore:e}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?e?"Left":"Right":"Hover me")}}class l extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,isBefore:!1},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.vertical(n,[{bounds:e,key:null}]);this.setState({isOver:!!o,isBefore:o.isBefore})})}render(){const{isOver:t,isBefore:e}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?e?"Top":"Bottom":"Hover me")}}class g extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,distance:0,location:a.a.Middle},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.all(n,e,20);this.setState({isOver:!!o,distance:o.distance,location:o.location})})}render(){const{isOver:t,distance:e,location:n}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?`${this.locationToString(n)} @ ${e.toFixed(1)}px`:"Hover me")}locationToString(t){switch(t){case a.a.TopLeft:return"Top Left";case a.a.Top:return"Top";case a.a.TopRight:return"Top Right";case a.a.MiddleLeft:return"Middle Left";case a.a.Middle:return"Middle";case a.a.MiddleRight:return"Middle Right";case a.a.BottomLeft:return"Bottom Left";case a.a.Bottom:return"Bottom";case a.a.BottomRight:return"Bottom Right";default:return"???"}}}d.add("Horizontal",()=>o.a.createElement(c,null)).add("Vertical",()=>o.a.createElement(l,null)).add("All",()=>o.a.createElement(g,null))}.call(this,n(219)(t))},1126:function(t,e,n){var o={"./corner.tsx":1125,"./dnd.tsx":1124};function r(t){var e=i(t);return n(e)}function i(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=1126},1145:function(t,e,n){"use strict";n.r(e),function(t){var e=n(144),o=n(1126);Object(e.configure)(function(){o.keys().forEach(function(t){return o(t)})},t)}.call(this,n(219)(t))},1147:function(t,e,n){n(488),n(1146),t.exports=n(1145)},201:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(0),r=n.n(o),i=n(37),a=n(90);const s=Object(i.d)(class extends r.a.Component{constructor(){super(...arguments),this.events=new a.SquashEvents,this.onDataMeta=(()=>{if(this.props.onDataMeta){const t=this.props.dataKey;return this.props.onDataMeta({dataKey:t})}return this.props.dataMeta}),this.onDrag=(t=>{const e={left:t.clientX,top:t.clientY};this.events.push({type:"drag",position:e},t=>["drag","dragend"].includes(t.type),({position:t})=>{this.props.onDrag({position:t})})}),this.onDragStart=(t=>{t.dataTransfer.setDragImage(Object(a.getEmptyImage)(),0,0),t.dataTransfer.effectAllowed="move",t.stopPropagation();const e={left:t.clientX,top:t.clientY},n=this.onDataMeta();this.events.push({type:"dragstart",position:e},t=>["drag","dragend"].includes(t.type),({position:t})=>{this.props.onDragStart({position:t,dataMetaOverride:n})})}),this.onDragEnd=(t=>{const e={left:t.clientX,top:t.clientY};this.events.push({type:"dragend",position:e},t=>["dragend"].includes(t.type),({position:t})=>{this.props.onDragEnd({position:t})})})}render(){const{children:t,innerRef:e}=this.props;return r.a.createElement("div",{draggable:!0,onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,ref:e},t)}})},221:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(24);const r=({left:t,top:e,height:n,width:o,right:r,bottom:i})=>({left:t,top:e,height:n,width:o,right:r,bottom:i}),i=t=>t?r(t.getBoundingClientRect()):o.emptyBounds},223:function(t,e,n){"use strict";n.d(e,"closestCorner",function(){return a});var o=n(580),r=n(579),i=n(35);n(570);const a={vertical:o.a,horizontal:r.a,all:i.b}},24:function(t,e,n){"use strict";var o=n(569);n.o(o,"emptyBounds")&&n.d(e,"emptyBounds",function(){return o.emptyBounds}),n.o(o,"emptyPosition")&&n.d(e,"emptyPosition",function(){return o.emptyPosition}),n.o(o,"isBoundsSame")&&n.d(e,"isBoundsSame",function(){return o.isBoundsSame}),n.o(o,"isPositionSame")&&n.d(e,"isPositionSame",function(){return o.isPositionSame});var r=n(568);n.o(r,"emptyBounds")&&n.d(e,"emptyBounds",function(){return r.emptyBounds}),n.o(r,"emptyPosition")&&n.d(e,"emptyPosition",function(){return r.emptyPosition}),n.o(r,"isBoundsSame")&&n.d(e,"isBoundsSame",function(){return r.isBoundsSame}),n.o(r,"isPositionSame")&&n.d(e,"isPositionSame",function(){return r.isPositionSame});var i=n(567);n.d(e,"emptyBounds",function(){return i.a}),n.d(e,"isBoundsSame",function(){return i.b});var a=n(566);n.d(e,"emptyPosition",function(){return a.a}),n.d(e,"isPositionSame",function(){return a.b})},33:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});const o=(t,e,n,o,r,i)=>{const a=r-n,s=i-o,d=a*a+s*s,c=0!==d?((t-n)*a+(e-o)*s)/d:-1;let l=0,g=0;c<0?(l=n,g=o):c>1?(l=r,g=i):(l=n+c*a,g=o+c*s);const p=t-l,u=e-g;return Math.sqrt(p*p+u*u)},r=(t,e,n,o,r,i)=>{const a=Math.max(n-t,0,t-r),s=Math.max(o-e,0,e-i);return Math.sqrt(a*a+s*s)}},35:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var o,r=n(33);!function(t){t[t.TopLeft=17]="TopLeft",t[t.Top=16]="Top",t[t.TopRight=18]="TopRight",t[t.MiddleLeft=33]="MiddleLeft",t[t.Middle=32]="Middle",t[t.MiddleRight=34]="MiddleRight",t[t.BottomLeft=65]="BottomLeft",t[t.Bottom=64]="Bottom",t[t.BottomRight=66]="BottomRight"}(o||(o={}));const i={allTop:!0,allLeft:!0,allRight:!0,allBottom:!0},a=({left:t,top:e},{left:n,top:a,right:s,bottom:d},c,l)=>{const g=(l={...i,...l}).allTop&&e<d,p=l.allBottom&&e>a,u=l.allLeft&&t<s,h=l.allRight&&t>n,m=[g&&u&&{distance:Object(r.a)(t,e,n,a,n+c,a+c),location:o.TopLeft},g&&{distance:Object(r.a)(t,e,n+c,a,s-c,a+c),location:o.Top},g&&h&&{distance:Object(r.a)(t,e,s-c,a,s,a+c),location:o.TopRight},u&&{distance:Object(r.a)(t,e,n,a+c,n+c,d-c),location:o.MiddleLeft},{distance:Object(r.a)(t,e,n+c,a+c,s-c,d-c),location:o.Middle},h&&{distance:Object(r.a)(t,e,s+c,a+c,s,d-c),location:o.MiddleRight},p&&u&&{distance:Object(r.a)(t,e,n,d-c,n+c,d),location:o.BottomLeft},p&&{distance:Object(r.b)(t,e,n+c,d-c,s-c,d),location:o.Bottom},p&&h&&{distance:Object(r.a)(t,e,s-c,d-c,s,d),location:o.BottomRight}];let f=4;for(let t=0;t<9;t++)m[t]&&m[t].distance<m[f].distance&&(f=t);return m[f]}},37:function(t,e,n){"use strict";var o=n(24),r=n(0),i=n.n(r);const a=r.createContext({draggingMeta:null,draggingData:null,onDragStartInterface(){console.warn("[@zaibot/react-dnd] missing DraggingProvider")},onDragEndInterface(){console.warn("[@zaibot/react-dnd] missing DraggingProvider")}});class s extends r.Component{constructor(t,e){super(t,e),this.onDragging=this.onDragging.bind(this),this.onDragged=this.onDragged.bind(this),this.state={draggingData:null,draggingMeta:null,onDragStartInterface:this.onDragging,onDragEndInterface:this.onDragged}}render(){return r.createElement(a.Provider,{value:this.state},this.props.children)}onDragging({data:t,meta:e}){this.setState({draggingData:t,draggingMeta:e})}onDragged(){this.setState({draggingData:null,draggingMeta:null})}}const d=t=>r.forwardRef((e,n)=>r.createElement(a.Consumer,null,({draggingData:o,draggingMeta:i,onDragEndInterface:a,onDragStartInterface:s})=>r.createElement(t,Object.assign({},e,{onDragStartInterface:s,onDragEndInterface:a,draggingData:o,draggingMeta:i,ref:n})))),c={bounds:o.emptyBounds,dataKey:null,dataMetaOverride:null,draggingPosition:null,isDragging:!1,touchPosition:o.emptyPosition,getData(){},getMeta(){},reportMeasured(){},onDragStart(){},onDragEnd(){},onDrag(){}},{Provider:l,Consumer:g}=i.a.createContext(c),p=g,u=t=>e=>i.a.createElement(g,null,n=>i.a.createElement(t,Object.assign({},e,n))),h=d(class extends i.a.Component{constructor(t,e){super(t,e),this.mounted=!1,this.onDataData=(()=>{if(this.props.onDataData){const t=this.props.dataKey;return this.props.onDataData({dataKey:t})}if(void 0!==this.props.dataData){return this.props.dataData}return this.props.dataKey}),this.onDataMeta=(()=>{if(void 0!==this.state.dataMetaOverride)return this.state.dataMetaOverride;if(this.props.onDataMeta){const t=this.props.dataKey;return this.props.onDataMeta({dataKey:t})}return this.props.dataMeta}),this.onMeasured=(t=>{this.setState(({bounds:e})=>Object(o.isBoundsSame)(e,t)?null:{bounds:t})}),this.onDrag=(t=>{const e=t.position;this.mounted&&this.setState({draggingPosition:e,isDragging:!0},()=>{this.props.onDrag&&this.props.onDrag({position:e})})}),this.onDragStart=(t=>{if(Object(o.isBoundsSame)(this.state.bounds,o.emptyBounds)){const{dataKey:t,dataMeta:e}=this.props;console.warn("[@zaibot/react-dnd] missing bounds on draggable",{dataKey:t,dataMeta:e})}const e=t.position,n=t.dataMetaOverride,r={left:e.left-this.state.bounds.left,top:e.top-this.state.bounds.top};this.mounted&&this.setState({draggingPosition:e,touchPosition:r,isDragging:!0,dataMetaOverride:n},()=>{const t=this.state.getData(),o=this.state.getMeta();this.props.onDragStartInterface({data:t,meta:o}),this.props.onDragStart&&this.props.onDragStart({position:e,dataMetaOverride:n})})}),this.onDragEnd=(t=>{this.mounted&&this.setState({draggingPosition:null,isDragging:!1,dataMetaOverride:void 0},()=>{this.props.onDragEndInterface(),this.props.onDragEnd&&this.props.onDragEnd({position:t.position})})}),this.state={bounds:o.emptyBounds,dataKey:t.dataKey,dataMetaOverride:null,draggingPosition:null,getData:this.onDataData,getMeta:this.onDataMeta,isDragging:!1,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onDragStart:this.onDragStart,reportMeasured:this.onMeasured,touchPosition:o.emptyPosition}}static getDerivedStateFromProps(t,e){const{dataKey:n,bounds:r}=t;return r&&!Object(o.isBoundsSame)(r,e.bounds)?{dataKey:n,bounds:r}:n!==e.dataKey?{dataKey:n}:null}componentDidMount(){this.mounted=!0,this.setState({draggingPosition:null,isDragging:!1,dataMetaOverride:void 0})}componentWillUnmount(){this.mounted=!1,this.setState({draggingPosition:null,isDragging:!1,dataMetaOverride:void 0})}render(){const t=this.state,e=this.props.children;return i.a.createElement(l,{value:t},e)}});n.d(e,!1,function(){return p}),n.d(e,"d",function(){return u}),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return s}),n.d(e,"c",function(){return d})},489:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(0),r=n.n(o),i=n(37),a=n(24),s=n(90);const d=Object(i.c)(Object(i.d)(class extends r.a.Component{constructor(){super(...arguments),this.state={element:null,bounds:a.emptyBounds},this.onRef=(t=>{this.setState(({element:e})=>e===t?null:{element:t}),this.props.refInner&&this.props.refInner(t)}),this.monitorWhileDragging=(()=>{this.props.isDragging&&this.state.element&&s.defaultBatchMeasure.push(this,this.state.element,t=>{this.props.reportMeasured(t),this.props.onMeasured&&this.props.onMeasured(t),this.setState(({bounds:e})=>Object(a.isBoundsSame)(e,t)?null:{bounds:t},this.monitorWhileDragging)})}),this.monitorOnce=(()=>{this.state.element&&s.defaultBatchMeasure.push(this,this.state.element,t=>{this.props.reportMeasured(t),this.props.onMeasured&&this.props.onMeasured(t),this.setState(({bounds:e})=>Object(a.isBoundsSame)(e,t)?null:{bounds:t},this.monitorWhileDragging)})})}componentWillUnmount(){s.defaultBatchMeasure.remove(this)}componentDidMount(){this.monitorOnce()}componentDidUpdate(){this.monitorOnce()}render(){return r.a.createElement("div",{ref:this.onRef},this.props.children)}}))},490:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),r=n.n(o),i=n(36),a=n.n(i),s=n(37),d=n(24);const c=Object(s.d)(class extends r.a.Component{static getDerivedStateFromProps(t,e){if(t.draggingPosition){const n=t.touchPosition||d.emptyPosition,o=t.draggingPosition.left-(n.left||0),r=t.draggingPosition.top-(n.top||0),i=t.copyBounds?t.width:t.bounds.width,a=t.copyBounds?t.height:t.bounds.height;if(o!==e.left||r!==e.top||i!==e.width||a!==e.height){return{left:o,top:r,width:i,height:a,style:{position:"fixed",left:`${o}px`,top:`${r}px`,width:i?`${i}px`:void 0,height:a?`${a}px`:void 0,pointerEvents:"none",zIndex:99999999},visible:!0}}}else if(e.visible)return{visible:!1};return null}constructor(t,e){super(t,e),this.state={visible:!1,left:null,top:null,width:null,height:null,style:{}}}render(){return this.props.isDragging&&this.state.visible?r.a.createElement(l,{style:this.state.style},this.props.children):null}});class l extends r.a.Component{constructor(t,e){super(t,e);const n=document.createElement("div");Object.assign(n.style,t.style),this.state={element:n}}static getDerivedStateFromProps(t,e){return Object.assign(e.element.style,t.style),null}componentDidMount(){const{element:t}=this.state;Object.assign(t.style,this.props.style),document.body.appendChild(t)}componentWillUnmount(){const{element:t}=this.state;document.body.removeChild(t)}render(){return a.a.createPortal(this.props.children,this.state.element)}}},491:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(0),r=n(37),i=n(24),a=n(90);const s=Object(r.c)(class extends o.Component{constructor(t,e){super(t,e),this.events=new a.SquashEvents,this.state={droppingData:null,droppingMeta:null,droppingPosition:null},this.dropProps={onDrop:this.onDrop.bind(this),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this)}}render(){const{droppingData:t,droppingPosition:e,droppingMeta:n}=this.state,o=!!this.state.droppingData,r=this.dropProps,i={ref:this.props.refDroppable};return this.props.children({dropProps:r,trackingProps:i,isDropping:o,droppingData:t,droppingPosition:e,droppingMeta:n})}onDragOver(t){t.preventDefault(),this.events.push({type:t.type,clientX:t.clientX,clientY:t.clientY},t=>["dragleave","dragover"].includes(t.type),t=>{const e={left:t.clientX,top:t.clientY};this.setState(({droppingPosition:t,droppingData:n,droppingMeta:o},{draggingMeta:r,draggingData:a})=>Object(i.isPositionSame)(t,e)&&n===a&&o===r?null:{droppingData:n=a,droppingPosition:t=e,droppingMeta:o=r},()=>{this.emitDragOver({droppingPosition:this.state.droppingPosition,droppingData:this.state.droppingData,droppingMeta:this.state.droppingMeta})})})}onDragLeave(t){t.preventDefault(),this.events.push({type:t.type},t=>["dragleave","dragover"].includes(t.type),t=>{const e=this.state.droppingData,n=this.state.droppingMeta,o=this.state.droppingPosition;this.setState({droppingData:null,droppingMeta:null,droppingPosition:null},()=>{this.emitDragOut({droppingPosition:o,droppingData:e,droppingMeta:n})})})}onDrop(t){t.preventDefault(),this.events.push({type:t.type,clientX:t.clientX,clientY:t.clientY},t=>["dragleave","dragover","drop"].includes(t.type),t=>{const e=this.state.droppingData,n=this.state.droppingMeta,o={left:t.clientX,top:t.clientY};this.setState({droppingData:null,droppingPosition:null},()=>{this.emitDrop({droppingPosition:o,droppingData:e,droppingMeta:n})})})}emitDragOver(t){this.props.onDragOver&&this.props.onDragOver(t)}emitDragOut(t){this.props.onDragOut&&this.props.onDragOut(t)}emitDrop(t){this.props.onDrop&&this.props.onDrop(t)}})},561:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(221),r=n(36),i=n.n(r);const a=20;const s=new class{constructor(){this.queue=[],this.timer=null,this.countdown=a,this.trigger=(()=>{if(--this.countdown<=0){this.countdown=a,this.timer=null;const t=this.queue;this.queue=[];const e=t.map(({element:t,callback:e})=>({callback:e,bounds:Object(o.a)(t)}));i.a.unstable_batchedUpdates(()=>{e.forEach(({callback:t,bounds:e})=>t(e))})}else this.timer=window.requestAnimationFrame(this.trigger)})}push(t,e,n){this.queue=this.queue.filter(e=>e.component!==t).concat({component:t,element:e,callback:n}),this.timer||(this.timer=window.requestAnimationFrame(this.trigger))}remove(t){this.queue=this.queue.filter(e=>e.component!==t)}}},562:function(t,e,n){"use strict";let o;n.d(e,"a",function(){return r});const r=()=>(o||((o=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),o)},563:function(t,e){},564:function(t,e,n){"use strict"},565:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(36),r=n.n(o);class i{constructor(){this.queue=[],this.timer=null}push(t,e,n){this.queue=this.queue.filter(t=>!e(t.event)).concat({event:t,handle:()=>n(t)}),this.timer||(this.timer=window.requestAnimationFrame(()=>{this.timer=null;const t=this.queue;this.queue=[],r.a.unstable_batchedUpdates(()=>{t.forEach(t=>t.handle())})}))}}},566:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});const o={left:0,top:0},r=(t,e)=>t===e||t&&e&&t.left===e.left&&t.top===e.top},567:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});const o={left:0,top:0,right:0,bottom:0,width:0,height:0},r=(t,e)=>t===e||t&&e&&t.left===e.left&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom},568:function(t,e){},569:function(t,e){},570:function(t,e){},579:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(33);const r=(t,e)=>{const n=e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.top,e.left,e.bottom))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!0,isAfter:!1}:e},null);return e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.right-1,e.top,e.right-1,e.bottom))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!1,isAfter:!0}:e},n)||null}},580:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(33);const r=(t,e)=>{const n=e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.top,e.right,e.top))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!0,isAfter:!1}:e},null);return e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.bottom-1,e.right,e.bottom-1))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!1,isAfter:!0}:e},n)||null}},90:function(t,e,n){"use strict";n(221);var o=n(565);n.d(e,"SquashEvents",function(){return o.a});n(564);var r=n(563);n.o(r,"defaultBatchMeasure")&&n.d(e,"defaultBatchMeasure",function(){return r.defaultBatchMeasure}),n.o(r,"getEmptyImage")&&n.d(e,"getEmptyImage",function(){return r.getEmptyImage});var i=n(562);n.d(e,"getEmptyImage",function(){return i.a});var a=n(561);n.d(e,"defaultBatchMeasure",function(){return a.a})}},[[1147,1,2]]]);
//# sourceMappingURL=preview.377853ff81cf30419210.bundle.js.map