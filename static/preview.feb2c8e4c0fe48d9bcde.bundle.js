(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1124:function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),o=n.n(e),r=n(144),i=n(32),s=n(490),a=n(489),c=n(488),d=n(221),l=n(36),g=n(104).withStorySource;const p=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#fcc",display:"inline-block",padding:"2rem"}})),u=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#aaf",display:"inline-block",padding:"2rem",opacity:.75}})),h=({...t})=>o.a.createElement("div",Object.assign({},t,{style:{...t.style,background:"#ffa",display:"inline-block",padding:"2rem"}}));Object(r.storiesOf)("react-dnd/Drag&Drop",t).addDecorator(g("import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { action } from '@storybook/addon-actions';\nimport { Droppable } from '../src/droppable';\nimport { DragLayer } from '../src/drag-layer';\nimport { Measure } from '../src/measure';\nimport { DragHandle } from '../src/drag-handle';\nimport { DraggableContext, DraggingProvider } from '../src/core';\n\nconst stories = storiesOf('react-dnd/Drag&Drop', module);\n\nconst Red = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div {...props} style={{ ...props.style, background: `#fcc`, display: `inline-block`, padding: `2rem` }} />\n);\nconst Blue = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div\n    {...props}\n    style={{ ...props.style, background: `#aaf`, display: `inline-block`, padding: `2rem`, opacity: 3 / 4 }}\n  />\n);\nconst Yellow = ({ ...props }: React.HTMLProps<HTMLDivElement>) => (\n  <div {...props} style={{ ...props.style, background: `#ffa`, display: `inline-block`, padding: `2rem` }} />\n);\n\nstories\n  .add(`Basic`, () => (\n    <DraggingProvider>\n      <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)}>\n        {({ isDropping, dropProps, trackingProps }) => (\n          <Red {...trackingProps} {...dropProps}>\n            {isDropping ? 'Dropping!' : 'Waiting...'}\n          </Red>\n        )}\n      </Droppable>\n      <DraggableContext dataKey={1} onDragEnd={action(`onDragEnd`)} onDragStart={action(`onDragStart`)}>\n        <DragLayer>\n          <Blue>Being dragged</Blue>\n        </DragLayer>\n        <Measure>\n          <DragHandle>\n            <Yellow>Dragging me</Yellow>\n          </DragHandle>\n        </Measure>\n      </DraggableContext>\n    </DraggingProvider>\n  ))\n  .add(`Handle`, () => (\n    <DraggingProvider>\n      <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)}>\n        {({ isDropping, dropProps, trackingProps }) => (\n          <Red {...trackingProps} {...dropProps}>\n            {isDropping ? 'Dropping!' : 'Waiting...'}\n          </Red>\n        )}\n      </Droppable>\n      <DraggableContext dataKey={1} onDragEnd={action(`onDragEnd`)} onDragStart={action(`onDragStart`)}>\n        <DragLayer>\n          <Blue>\n            <DragHandle>Handle</DragHandle> Being dragged\n          </Blue>\n        </DragLayer>\n        <Measure>\n          <Yellow>\n            <DragHandle>Handle</DragHandle> Dragging me\n          </Yellow>\n        </Measure>\n        {/* : <Yellow {...dragContainerProps} innerRef={ref}>{dragging}<DragHandle>Handle</DragHandle> Drag me</Yellow> */}\n      </DraggableContext>\n    </DraggingProvider>\n  ));\n// .add(`Ordering`, () => (\n//   <DraggingProvider>\n//      <PositionContainer>\n//       {({ refContainer, registries }) => (\n//         <Droppable onDrop={action(`onDrop`)} onDragOver={action(`onDragOver`)} onDragOut={action(`onDragOut`)} refTracking={refContainer}>\n//           {({ isDropping, dropProps, trackingProps, droppingPosition }) => (\n//             <Red {...trackingProps} {...dropProps} innerRef={trackingProps.ref}>\n//               {orderingData.map((item) => (\n//                 <PositionPublisher keyData={item}>\n//                   {({ refContainer }) => (\n//                     <Draggable dataKey={item} onDragEnd={action(`onDragEnd`)} onDragMove={undefined} onDragStart={action(`onDragStart`)} refTracking={refContainer}>\n//                       {({ isDragged, dragContainerProps, dragHandleProps, trackingProps, dragging }) => (\n//                         isDragged\n//                           ? <Blue {...dragContainerProps} {...dragHandleProps} innerRef={trackingProps.ref}>{dragging}{item.text}</Blue>\n//                           : <Yellow {...dragContainerProps} {...dragHandleProps} innerRef={trackingProps.ref}>{dragging}{item.text}</Yellow>\n//                       )}\n//                     </Draggable>\n//                   )}\n//                 </PositionPublisher>\n//               ))}\n\n//               <ol>\n//                 {registries.map(({ getBounds, key }) => (\n//                   <li>{key.text} ({getBounds().left}:{getBounds().top}, {getBounds().width}w{getBounds().height}h)</li>\n//                 ))}\n//               </ol>\n//               <p style={{ whiteSpace: 'pre' }}>\n//                 {isDropping\n//                   ? <span>Dropping: {(() => {\n//                     const elements = registries.map(({ getBounds, key }) => ({ bounds: getBounds(), key, order: orderingData.indexOf(key) }));\n//                     const closest = closestCorner.horizontal(droppingPosition, elements);\n//                     return (\n//                       <span>{closest.isBefore ? 'Before' : 'After'} {closest.element.key.text}</span>\n//                     );\n//                   })()}</span>\n//                   : `Drag something`}\n//               </p>\n//             </Red>\n//           )}\n//         </Droppable>\n//       )}\n//     </PositionContainer>\n//   </DraggingProvider>\n// ));\n",{})).add("Basic",()=>o.a.createElement(l.b,null,o.a.createElement(s.a,{onDrop:Object(i.action)("onDrop"),onDragOver:Object(i.action)("onDragOver"),onDragOut:Object(i.action)("onDragOut")},({isDropping:t,dropProps:e,trackingProps:n})=>o.a.createElement(p,Object.assign({},n,e),t?"Dropping!":"Waiting...")),o.a.createElement(l.a,{dataKey:1,onDragEnd:Object(i.action)("onDragEnd"),onDragStart:Object(i.action)("onDragStart")},o.a.createElement(a.a,null,o.a.createElement(u,null,"Being dragged")),o.a.createElement(c.a,null,o.a.createElement(d.a,null,o.a.createElement(h,null,"Dragging me")))))).add("Handle",()=>o.a.createElement(l.b,null,o.a.createElement(s.a,{onDrop:Object(i.action)("onDrop"),onDragOver:Object(i.action)("onDragOver"),onDragOut:Object(i.action)("onDragOut")},({isDropping:t,dropProps:e,trackingProps:n})=>o.a.createElement(p,Object.assign({},n,e),t?"Dropping!":"Waiting...")),o.a.createElement(l.a,{dataKey:1,onDragEnd:Object(i.action)("onDragEnd"),onDragStart:Object(i.action)("onDragStart")},o.a.createElement(a.a,null,o.a.createElement(u,null,o.a.createElement(d.a,null,"Handle")," Being dragged")),o.a.createElement(c.a,null,o.a.createElement(h,null,o.a.createElement(d.a,null,"Handle")," Dragging me")))))}.call(this,n(218)(t))},1125:function(t,e,n){"use strict";n.r(e),function(t){var e=n(0),o=n.n(e),r=n(144),i=n(222),s=n(35),a=n(104).withStorySource;const c=Object(r.storiesOf)("react-dnd/Closest Corner",t).addDecorator(a("import React from 'react';\nimport { storiesOf } from '@storybook/react';\nimport { closestCorner } from '../src/strategy-closest-corner';\nimport { ClosestCornerLocation } from '../src/strategy-closest-corner/all';\n\nconst stories = storiesOf('react-dnd/Closest Corner', module);\n\nclass ClosestCornerHorizonal extends React.Component {\n  public state = {\n    isOver: false,\n    isBefore: false,\n  };\n\n  public render() {\n    const { isOver, isBefore } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? (isBefore ? `Left` : `Right`) : `Hover me`}\n      </div>\n    );\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.horizontal(position, [{ bounds, key: null }]);\n    this.setState({ isOver: !!closest, isBefore: closest.isBefore });\n  };\n}\nclass ClosestCornerVertical extends React.Component {\n  public state = {\n    isOver: false,\n    isBefore: false,\n  };\n\n  public render() {\n    const { isOver, isBefore } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? (isBefore ? `Top` : `Bottom`) : `Hover me`}\n      </div>\n    );\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.vertical(position, [{ bounds, key: null }]);\n    this.setState({ isOver: !!closest, isBefore: closest.isBefore });\n  };\n}\nclass ClosestCornerAll extends React.Component {\n  public state = {\n    isOver: false,\n    distance: 0,\n    location: ClosestCornerLocation.Middle,\n  };\n\n  public render() {\n    const { isOver, distance, location } = this.state;\n    return (\n      <div\n        onMouseMove={this.onMouseMove}\n        style={{ background: `#eee`, padding: `5rem`, width: `10rem`, textAlign: `center`, display: `inline-block` }}\n      >\n        {isOver ? `${this.locationToString(location)} @ ${distance.toFixed(1)}px` : `Hover me`}\n      </div>\n    );\n  }\n\n  private locationToString(location: ClosestCornerLocation) {\n    switch (location) {\n      case ClosestCornerLocation.TopLeft:\n        return `Top Left`;\n      case ClosestCornerLocation.Top:\n        return `Top`;\n      case ClosestCornerLocation.TopRight:\n        return `Top Right`;\n      case ClosestCornerLocation.MiddleLeft:\n        return `Middle Left`;\n      case ClosestCornerLocation.Middle:\n        return `Middle`;\n      case ClosestCornerLocation.MiddleRight:\n        return `Middle Right`;\n      case ClosestCornerLocation.BottomLeft:\n        return `Bottom Left`;\n      case ClosestCornerLocation.Bottom:\n        return `Bottom`;\n      case ClosestCornerLocation.BottomRight:\n        return `Bottom Right`;\n      default:\n        return `???`;\n    }\n  }\n\n  private onMouseMove = (e: React.MouseEvent<HTMLDivElement>) => {\n    const bounds = e.currentTarget.getBoundingClientRect();\n    const position = { left: e.clientX, top: e.clientY };\n    const closest = closestCorner.all(position, bounds, 20);\n    this.setState({ isOver: !!closest, distance: closest.distance, location: closest.location });\n  };\n}\n\nstories\n  .add(`Horizontal`, () => <ClosestCornerHorizonal />)\n  .add(`Vertical`, () => <ClosestCornerVertical />)\n  .add(`All`, () => <ClosestCornerAll />);\n",{}));class d extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,isBefore:!1},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.horizontal(n,[{bounds:e,key:null}]);this.setState({isOver:!!o,isBefore:o.isBefore})})}render(){const{isOver:t,isBefore:e}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?e?"Left":"Right":"Hover me")}}class l extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,isBefore:!1},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.vertical(n,[{bounds:e,key:null}]);this.setState({isOver:!!o,isBefore:o.isBefore})})}render(){const{isOver:t,isBefore:e}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?e?"Top":"Bottom":"Hover me")}}class g extends o.a.Component{constructor(){super(...arguments),this.state={isOver:!1,distance:0,location:s.a.Middle},this.onMouseMove=(t=>{const e=t.currentTarget.getBoundingClientRect(),n={left:t.clientX,top:t.clientY},o=i.closestCorner.all(n,e,20);this.setState({isOver:!!o,distance:o.distance,location:o.location})})}render(){const{isOver:t,distance:e,location:n}=this.state;return o.a.createElement("div",{onMouseMove:this.onMouseMove,style:{background:"#eee",padding:"5rem",width:"10rem",textAlign:"center",display:"inline-block"}},t?`${this.locationToString(n)} @ ${e.toFixed(1)}px`:"Hover me")}locationToString(t){switch(t){case s.a.TopLeft:return"Top Left";case s.a.Top:return"Top";case s.a.TopRight:return"Top Right";case s.a.MiddleLeft:return"Middle Left";case s.a.Middle:return"Middle";case s.a.MiddleRight:return"Middle Right";case s.a.BottomLeft:return"Bottom Left";case s.a.Bottom:return"Bottom";case s.a.BottomRight:return"Bottom Right";default:return"???"}}}c.add("Horizontal",()=>o.a.createElement(d,null)).add("Vertical",()=>o.a.createElement(l,null)).add("All",()=>o.a.createElement(g,null))}.call(this,n(218)(t))},1126:function(t,e,n){var o={"./corner.tsx":1125,"./dnd.tsx":1124};function r(t){var e=i(t);return n(e)}function i(t){var e=o[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}r.keys=function(){return Object.keys(o)},r.resolve=i,t.exports=r,r.id=1126},1145:function(t,e,n){"use strict";n.r(e),function(t){var e=n(144),o=n(1126);Object(e.configure)(function(){o.keys().forEach(function(t){return o(t)})},t)}.call(this,n(218)(t))},1147:function(t,e,n){n(487),n(1146),t.exports=n(1145)},221:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(0),r=n.n(o),i=n(36),s=n(95);const a=Object(i.d)(class extends r.a.Component{constructor(){super(...arguments),this.events=new s.SquashEvents,this.onDrag=(t=>{const e={left:t.clientX,top:t.clientY};this.events.push({type:"drag",position:e},t=>["drag","dragend"].includes(t.type),({position:t})=>{this.props.onDrag({position:t})})}),this.onDragStart=(t=>{t.dataTransfer.setDragImage(Object(s.getEmptyImage)(),0,0),t.dataTransfer.effectAllowed="move",t.stopPropagation();const e={left:t.clientX,top:t.clientY};this.events.push({type:"dragstart",position:e},t=>["drag","dragend"].includes(t.type),({position:t})=>{this.props.onDragStart({position:t})})}),this.onDragEnd=(t=>{const e={left:t.clientX,top:t.clientY};this.events.push({type:"dragend",position:e},t=>["dragend"].includes(t.type),({position:t})=>{this.props.onDragEnd({position:t})})})}render(){const{children:t,innerRef:e}=this.props;return r.a.createElement("div",{draggable:!0,onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,ref:e},t)}})},222:function(t,e,n){"use strict";n.d(e,"closestCorner",function(){return s});var o=n(580),r=n(579),i=n(35);n(570);const s={vertical:o.a,horizontal:r.a,all:i.b}},25:function(t,e,n){"use strict";var o=n(569);n.o(o,"emptyBounds")&&n.d(e,"emptyBounds",function(){return o.emptyBounds}),n.o(o,"emptyPosition")&&n.d(e,"emptyPosition",function(){return o.emptyPosition}),n.o(o,"isBoundsSame")&&n.d(e,"isBoundsSame",function(){return o.isBoundsSame}),n.o(o,"isPositionSame")&&n.d(e,"isPositionSame",function(){return o.isPositionSame});var r=n(568);n.o(r,"emptyBounds")&&n.d(e,"emptyBounds",function(){return r.emptyBounds}),n.o(r,"emptyPosition")&&n.d(e,"emptyPosition",function(){return r.emptyPosition}),n.o(r,"isBoundsSame")&&n.d(e,"isBoundsSame",function(){return r.isBoundsSame}),n.o(r,"isPositionSame")&&n.d(e,"isPositionSame",function(){return r.isPositionSame});var i=n(567);n.d(e,"emptyBounds",function(){return i.a}),n.d(e,"isBoundsSame",function(){return i.b});var s=n(566);n.d(e,"emptyPosition",function(){return s.a}),n.d(e,"isPositionSame",function(){return s.b})},33:function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});const o=(t,e,n,o,r,i)=>{const s=r-n,a=i-o,c=s*s+a*a,d=0!==c?((t-n)*s+(e-o)*a)/c:-1;let l=0,g=0;d<0?(l=n,g=o):d>1?(l=r,g=i):(l=n+d*s,g=o+d*a);const p=t-l,u=e-g;return Math.sqrt(p*p+u*u)},r=(t,e,n,o,r,i)=>{const s=Math.max(n-t,0,t-r),a=Math.max(o-e,0,e-i);return Math.sqrt(s*s+a*a)}},35:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s});var o,r=n(33);!function(t){t[t.TopLeft=17]="TopLeft",t[t.Top=16]="Top",t[t.TopRight=18]="TopRight",t[t.MiddleLeft=33]="MiddleLeft",t[t.Middle=32]="Middle",t[t.MiddleRight=34]="MiddleRight",t[t.BottomLeft=65]="BottomLeft",t[t.Bottom=64]="Bottom",t[t.BottomRight=66]="BottomRight"}(o||(o={}));const i={allTop:!0,allLeft:!0,allRight:!0,allBottom:!0},s=({left:t,top:e},{left:n,top:s,right:a,bottom:c},d,l)=>{const g=(l={...i,...l}).allTop&&e<c,p=l.allBottom&&e>s,u=l.allLeft&&t<a,h=l.allRight&&t>n,m=[g&&u&&{distance:Object(r.a)(t,e,n,s,n+d,s+d),location:o.TopLeft},g&&{distance:Object(r.a)(t,e,n+d,s,a-d,s+d),location:o.Top},g&&h&&{distance:Object(r.a)(t,e,a-d,s,a,s+d),location:o.TopRight},u&&{distance:Object(r.a)(t,e,n,s+d,n+d,c-d),location:o.MiddleLeft},{distance:Object(r.a)(t,e,n+d,s+d,a-d,c-d),location:o.Middle},h&&{distance:Object(r.a)(t,e,a+d,s+d,a,c-d),location:o.MiddleRight},p&&u&&{distance:Object(r.a)(t,e,n,c-d,n+d,c),location:o.BottomLeft},p&&{distance:Object(r.b)(t,e,n+d,c-d,a-d,c),location:o.Bottom},p&&h&&{distance:Object(r.a)(t,e,a-d,c-d,a,c),location:o.BottomRight}];let f=4;for(let t=0;t<9;t++)m[t]&&m[t].distance<m[f].distance&&(f=t);return m[f]}},36:function(t,e,n){"use strict";var o=n(25),r=n(0),i=n.n(r);const s=r.createContext({draggingMeta:null,draggingData:null,onDragging(){console.warn("[@zaibot/react-dnd] missing DraggingProvider")},onDragged(){console.warn("[@zaibot/react-dnd] missing DraggingProvider")}});class a extends r.Component{constructor(t,e){super(t,e),this.onDragging=this.onDragging.bind(this),this.onDragged=this.onDragged.bind(this),this.state={draggingData:null,draggingMeta:null,onDragging:this.onDragging,onDragged:this.onDragged}}render(){return r.createElement(s.Provider,{value:this.state},this.props.children)}onDragging({data:t,meta:e}){this.setState({draggingData:t,draggingMeta:e})}onDragged(){this.setState({draggingData:null,draggingMeta:null})}}const c=t=>{return r.forwardRef((e,n)=>r.createElement(s.Consumer,null,({draggingData:o,draggingMeta:i,onDragged:s,onDragging:a})=>r.createElement(t,Object.assign({},e,{onDragging:a,onDragged:s,draggingData:o,draggingMeta:i,ref:n}))))},d={isDragging:!1,draggingPosition:null,touchPosition:o.emptyPosition,bounds:o.emptyBounds,dataKey:null,getData(){},getMeta(){},reportMeasured(){},onDragStart(){},onDragEnd(){},onDrag(){}},{Provider:l,Consumer:g}=i.a.createContext(d),p=t=>e=>i.a.createElement(g,null,n=>i.a.createElement(t,Object.assign({},e,n))),u=c(class extends i.a.Component{constructor(t,e){super(t,e),this.onDataData=(()=>{if(this.props.onDataData){const t=this.props.dataKey;return this.props.onDataData({dataKey:t})}if(void 0!==this.props.dataData){return this.props.dataData}return this.props.dataKey}),this.onDataMeta=(()=>{if(this.props.onDataMeta){const t=this.props.dataKey;return this.props.onDataMeta({dataKey:t})}return this.props.dataMeta}),this.onMeasured=(t=>{this.setState(({bounds:e})=>Object(o.isBoundsSame)(e,t)?null:{bounds:t})}),this.onDrag=(t=>{const e=t.position;this.setState({draggingPosition:e,isDragging:!0},()=>{this.props.onDrag&&this.props.onDrag({position:e})})}),this.onDragStart=(t=>{Object(o.isBoundsSame)(this.state.bounds,o.emptyBounds)&&console.warn("[@zaibot/react-dnd] missing bounds on draggable",this.props.dataKey);const e=t.position,n={left:e.left-this.state.bounds.left,top:e.top-this.state.bounds.top};this.setState({draggingPosition:e,touchPosition:n,isDragging:!0},()=>{const t=this.state.getData(),n=this.state.getMeta();this.props.onDragging({data:t,meta:n}),this.props.onDragStart&&this.props.onDragStart({position:e})})}),this.onDragEnd=(t=>{this.setState({draggingPosition:null,isDragging:!1},()=>{this.state.getData(),this.state.getMeta();this.props.onDragged(),this.props.onDragEnd&&this.props.onDragEnd({position:t.position})})}),this.state={isDragging:!1,draggingPosition:null,touchPosition:o.emptyPosition,bounds:o.emptyBounds,dataKey:t.dataKey,getData:this.onDataData,getMeta:this.onDataMeta,reportMeasured:this.onMeasured,onDrag:this.onDrag,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}}static getDerivedStateFromProps(t,e){const{dataKey:n,bounds:r}=t;return r&&!Object(o.isBoundsSame)(r,e.bounds)?{dataKey:n,bounds:r}:n!==e.dataKey?{dataKey:n}:null}render(){const t=this.state,e=this.props.children;return i.a.createElement(l,{value:t},e)}});n.d(e,"d",function(){return p}),n.d(e,"a",function(){return u}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c})},488:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),r=n.n(o),i=n(36),s=n(25),a=n(95);const c=Object(i.c)(Object(i.d)(class extends r.a.Component{constructor(){super(...arguments),this.state={element:null,bounds:s.emptyBounds},this.onRef=(t=>{this.setState({element:t}),this.props.refInner&&this.props.refInner(t)}),this.monitorWhileDragging=(()=>{this.props.isDragging&&this.state.element&&a.defaultBatchMeasure.push(this,this.state.element,t=>{this.props.reportMeasured(t),this.props.onMeasured&&this.props.onMeasured(t),this.setState({bounds:t},this.monitorWhileDragging)})})}static getDerivedStateFromProps(t,e){const n=Object(a.getElementBoundsOrEmpty)(e.element);return t.reportMeasured(n),t.onMeasured&&t.onMeasured(n),Object(s.isBoundsSame)(e.bounds,n)?null:{bounds:n}}componentDidUpdate(){this.monitorWhileDragging()}render(){return r.a.createElement("div",{ref:this.onRef},this.props.children)}}))},489:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(0),r=n.n(o),i=n(68),s=n.n(i),a=n(36),c=n(25);const d=Object(a.d)(class extends r.a.Component{static getDerivedStateFromProps(t,e){if(t.draggingPosition){const n=t.touchPosition||c.emptyPosition,o=t.draggingPosition.left-(n.left||0),r=t.draggingPosition.top-(n.top||0),i=t.copyBounds?t.width:t.bounds.width,s=t.copyBounds?t.height:t.bounds.height;if(o!==e.left||r!==e.top||i!==e.width||s!==e.height){return{left:o,top:r,width:i,height:s,style:{position:"fixed",left:`${o}px`,top:`${r}px`,width:i?`${i}px`:void 0,height:s?`${s}px`:void 0,pointerEvents:"none",zIndex:99999999},visible:!0}}}else if(e.visible)return{visible:!1};return null}constructor(t,e){super(t,e),this.state={visible:!1,left:null,top:null,width:null,height:null,style:{}}}render(){return this.props.isDragging&&this.state.visible?r.a.createElement(l,{style:this.state.style},this.props.children):null}});class l extends r.a.Component{constructor(t,e){super(t,e);const n=document.createElement("div");Object.assign(n.style,t.style),this.state={element:n}}static getDerivedStateFromProps(t,e){return Object.assign(e.element.style,t.style),null}componentDidMount(){const{element:t}=this.state;Object.assign(t.style,this.props.style),document.body.appendChild(t)}componentWillUnmount(){const{element:t}=this.state;document.body.removeChild(t)}render(){return s.a.createPortal(this.props.children,this.state.element)}}},490:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var o=n(0),r=n(36),i=n(25),s=n(95);const a=Object(r.c)(class extends o.Component{constructor(t,e){super(t,e),this.events=new s.SquashEvents,this.state={droppingData:null,droppingMeta:null,droppingPosition:null},this.dropProps={onDrop:this.onDrop.bind(this),onDragOver:this.onDragOver.bind(this),onDragLeave:this.onDragLeave.bind(this)}}render(){const{droppingData:t,droppingPosition:e,droppingMeta:n}=this.state,o=!!this.state.droppingData,r=this.dropProps,i={ref:this.props.refDroppable};return this.props.children({dropProps:r,trackingProps:i,isDropping:o,droppingData:t,droppingPosition:e,droppingMeta:n})}onDragOver(t){t.preventDefault(),this.events.push({type:t.type,clientX:t.clientX,clientY:t.clientY},t=>["dragleave","dragover"].includes(t.type),t=>{const e={left:t.clientX,top:t.clientY};this.setState(({droppingPosition:t,droppingData:n,droppingMeta:o},{draggingMeta:r,draggingData:s})=>Object(i.isPositionSame)(t,e)&&n===s&&o===r?null:{droppingData:n=s,droppingPosition:t=e,droppingMeta:o=r},()=>{this.emitDragOver({droppingPosition:this.state.droppingPosition,droppingData:this.state.droppingData,droppingMeta:this.state.droppingMeta})})})}onDragLeave(t){t.preventDefault(),this.events.push({type:t.type},t=>["dragleave","dragover"].includes(t.type),t=>{const e=this.state.droppingData,n=this.state.droppingMeta,o=this.state.droppingPosition;this.setState({droppingData:null,droppingMeta:null,droppingPosition:null},()=>{this.emitDragOut({droppingPosition:o,droppingData:e,droppingMeta:n})})})}onDrop(t){t.preventDefault(),this.events.push({type:t.type,clientX:t.clientX,clientY:t.clientY},t=>["dragleave","dragover","drop"].includes(t.type),t=>{const e=this.state.droppingData,n=this.state.droppingMeta,o={left:t.clientX,top:t.clientY};this.setState({droppingData:null,droppingPosition:null},()=>{this.emitDrop({droppingPosition:o,droppingData:e,droppingMeta:n})})})}emitDragOver(t){this.props.onDragOver&&this.props.onDragOver(t)}emitDragOut(t){this.props.onDragOut&&this.props.onDragOut(t)}emitDrop(t){this.props.onDrop&&this.props.onDrop(t)}})},560:function(t,e,n){"use strict";n.d(e,"a",function(){return o});const o=new class{constructor(){this.queue=[],this.timer=null,this.countdown=10,this.trigger=(()=>{--this.countdown<=0?(this.countdown=10,this.timer=null,this.queue,this.queue=[]):this.timer=window.requestAnimationFrame(this.trigger)})}push(t,e,n){this.queue=this.queue.filter(e=>e.component!==t).concat({component:t,element:e,callback:n}),this.timer||(this.timer=window.requestAnimationFrame(this.trigger))}}},561:function(t,e,n){"use strict";let o;n.d(e,"a",function(){return r});const r=()=>(o||((o=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),o)},562:function(t,e){},563:function(t,e,n){"use strict"},564:function(t,e,n){"use strict";n.d(e,"a",function(){return o});class o{constructor(){this.queue=[],this.timer=null}push(t,e,n){this.queue=this.queue.filter(t=>!e(t.event)).concat({event:t,handle:()=>n(t)}),this.timer||(this.timer=window.requestAnimationFrame(()=>{this.timer=null;const t=this.queue;this.queue=[],t.forEach(t=>t.handle())}))}}},565:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o=n(25);const r=({left:t,top:e,height:n,width:o,right:r,bottom:i})=>({left:t,top:e,height:n,width:o,right:r,bottom:i}),i=t=>t?r(t.getBoundingClientRect()):o.emptyBounds},566:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});const o={left:0,top:0},r=(t,e)=>t===e||t&&e&&t.left===e.left&&t.top===e.top},567:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});const o={left:0,top:0,right:0,bottom:0,width:0,height:0},r=(t,e)=>t===e||t&&e&&t.left===e.left&&t.top===e.top&&t.right===e.right&&t.bottom===e.bottom},568:function(t,e){},569:function(t,e){},570:function(t,e){},579:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(33);const r=(t,e)=>{const n=e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.top,e.left,e.bottom))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!0,isAfter:!1}:e},null);return e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.right-1,e.top,e.right-1,e.bottom))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!1,isAfter:!0}:e},n)||null}},580:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n(33);const r=(t,e)=>{const n=e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.top,e.right,e.top))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!0,isAfter:!1}:e},null);return e.reduce((e,n)=>{const r=((t,e)=>Object(o.b)(t.left,t.top,e.left,e.bottom-1,e.right,e.bottom-1))(t,n.bounds);return!e||r<e.distance?{element:n,distance:r,isBefore:!1,isAfter:!0}:e},n)||null}},95:function(t,e,n){"use strict";var o=n(565);n.d(e,"getElementBoundsOrEmpty",function(){return o.a});var r=n(564);n.d(e,"SquashEvents",function(){return r.a});n(563);var i=n(562);n.o(i,"defaultBatchMeasure")&&n.d(e,"defaultBatchMeasure",function(){return i.defaultBatchMeasure}),n.o(i,"getEmptyImage")&&n.d(e,"getEmptyImage",function(){return i.getEmptyImage});var s=n(561);n.d(e,"getEmptyImage",function(){return s.a});var a=n(560);n.d(e,"defaultBatchMeasure",function(){return a.a})}},[[1147,1,2]]]);
//# sourceMappingURL=preview.feb2c8e4c0fe48d9bcde.bundle.js.map